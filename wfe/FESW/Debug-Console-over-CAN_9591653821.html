<!DOCTYPE html>
<html>
    <head>
        <title>Firmware : Debug Console over CAN</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">Firmware</a></span>
                            </li>
                                                    <li>
                                <span><a href="Firmware_9465365086.html">Firmware</a></span>
                            </li>
                                                    <li>
                                <span><a href="Documentation_9513894334.html">Documentation</a></span>
                            </li>
                                                    <li>
                                <span><a href="Common-all-Documentation_9569468768.html">Common-all Documentation</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            Firmware : Debug Console over CAN
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
        
    
        
        
            Created by <span class='author'> Former user</span>, last modified by <span class='editor'> Justin Vuong</span> on May 12, 2021
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <p>Everytime a UartOverCanChangeBoardConfig message is sent over the CAN bus and enables a board, that board will start to send the output from the <a class="external-link" href="https://www.freertos.org/FreeRTOS-Plus/FreeRTOS_Plus_CLI/FreeRTOS_Plus_Command_Line_Interface.html" rel="nofollow">UART CLI from FreeRTOS</a> over the CAN bus in a UartOverCanSendToVcuFromPdu or equivalent function.</p><p>After configuring the board, data sent with the UartOverCanSendToBoard CAN message from the VCU will send be added to the UART Queue which feeds the FreeRTOS CLI if it has been enabled with UartOverCanChangeBoardConfig. </p><ul style="list-style-type: square;"><li>Code is found in common-all/Src/debug.c and common-all/Src/userCan.c</li></ul><p><br/></p><p>Created messages (All have priority 0):</p><p>UartOverCanSendToBoard (ID 0x1C01FF0C)</p><ul><li>Used when sending data from VCU to Board<ul><li><span style="color: rgb(23,43,77);">Senders: VCU_BB and VCU_F7</span></li><li>Receivers: PDU, BMU, DCU</li></ul></li><li><span style="color: rgb(23,43,77);">Implemented the callback CAN_Msg_UartOverCanSendToBoard_Callback() to put received data into the CLI UART queue</span></li><li><p>Global used to store data that will be sent over CAN bus: UartOverCanSendBoardCharacter</p><p><br/></p></li></ul><p>UartOverCanSendToVcuFromBMU (ID 0x1C020C01)</p><ul><li>Used to send data back to VCU from a Board<ul><li><span style="color: rgb(23,43,77);">Senders: BMU</span></li><li>Receivers: <span style="color: rgb(23,43,77);">VCU_BB and VCU_F7</span></li></ul></li><li>Global used to store data that will be sent over CAN bus: UartOverCanSendVcuCharacter</li></ul><p><br/></p><p>UartOverCanSendToVcuFromPDU (ID 0x1C020C03)</p><ul><li>Used to send data back to VCU from a Board<ul><li><span style="color: rgb(23,43,77);">Senders: PDU</span></li><li>Receivers: <span style="color: rgb(23,43,77);">VCU_BB and VCU_F7</span></li></ul></li><li>Global used to store data that will be sent over CAN bus: UartOverCanSendVcuCharacter</li></ul><p><br/></p><p>UartOverCanSendToVcuFromDCU (ID 0x1C020C07)</p><ul><li>Used to send data back to VCU from a Board<ul><li><span style="color: rgb(23,43,77);">Senders: DCU</span></li><li>Receivers: <span style="color: rgb(23,43,77);">VCU_BB and VCU_F7</span></li></ul></li><li>Global used to store data that will be sent over CAN bus: UartOverCanSendVcuCharacter</li></ul><p><br/></p><p>UartOverCanChangeBoardConfig (ID 0x1C00FF0C)</p><ul style="list-style-type: square;"><li>Used to adjust how the boards should configure their output over the CAN bus (0 = off, 1 = on)<ul style="list-style-type: square;"><li>Signal value is made up of 3 bits where the LSB will hold the output value for the BMU and the MSB will hold the value for the PDU as illustrated below. <ul style="list-style-type: square;"><li>  0b00000   0        0       0<br/>                PDU | VCU | BMU </li></ul></li></ul></li><li>Signal/Global: UartOverCanBoardConfig</li></ul>
                    </div>

                    
                                                      
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on Oct 15, 2022 02:51</p>
                    <div id="footer-logo"><a href="http://www.atlassian.com/">Atlassian</a></div>
                </section>
            </div>
        </div>     </body>
</html>
