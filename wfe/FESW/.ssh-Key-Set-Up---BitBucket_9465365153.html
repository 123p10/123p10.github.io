<!DOCTYPE html>
<html>
    <head>
        <title>Firmware : .ssh Key Set Up - BitBucket</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">Firmware</a></span>
                            </li>
                                                    <li>
                                <span><a href="Firmware_9465365086.html">Firmware</a></span>
                            </li>
                                                    <li>
                                <span><a href="Getting-Started_9465365137.html">Getting Started</a></span>
                            </li>
                                                    <li>
                                <span><a href="Intro-to-Firmware_9465365151.html">Intro to Firmware</a></span>
                            </li>
                                                    <li>
                                <span><a href="Tool-Setup_9465365152.html">Tool Setup</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            Firmware : .ssh Key Set Up - BitBucket
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
        
    
        
        
            Created by <span class='author'> Former user</span> on Sep 29, 2018
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <p><a class="external-link" href="https://confluence.atlassian.com/bitbucket/set-up-an-ssh-key-728138079.html#SetupanSSHkey-ssh2" rel="nofollow">Link</a> to full set of instructions</p><p><strong>For Windows: </strong></p><p><span style="font-size: 16.0px;font-weight: bold;letter-spacing: 0.0px;">Step 1. Set up your default identity</span></p><ol><li><p>From the command line, enter <code>ssh-keygen</code>.<br/>The command prompts you for a file to save the key in:<br/><code>$ <span style="color: rgb(255,0,0);">ssh-keygen</span> <br/>Generating public/private rsa key pair.<br/>Enter file in which to save the key (/c/Users/emmap1/.ssh/id_rsa):</code></p></li><li><p>Press enter to accept the default key and path, <code>/c/Users/&lt;username&gt;/.ssh/id_rsa</code>.</p><p>To create a key with a name or path other than the default, specify the full path to the key. For example, to create a key called <code>my-new-ssh-key</code>, you would enter a path like the one shown at the prompt:<br/><code>$ <span style="color: rgb(255,0,0);">ssh-keygen</span> <br/>Generating public/private rsa key pair.<br/>Enter file in which to save the key (/c/Users/emmap1/.ssh/id_rsa): <span style="color: rgb(255,0,0);">/c/Users/emmap1/My Documents/keys/my-new-ssh-key </span></code></p></li><li><p>Enter and re-enter a passphrase when prompted.<br/>The command creates your default identity with its public and private keys. The whole interaction looks similar to this:<br/><code>$ <span style="color: rgb(255,0,0);">ssh-keygen</span> <br/>Generating public/private rsa key pair.<br/>Enter file in which to save the key (/c/Users/emmap1/.ssh/id_rsa):<br/>Created directory '/c/Users/emmap1/.ssh'.<br/>Enter passphrase (empty for no passphrase):<br/>Enter same passphrase again:<br/>Your identification has been saved in /c/Users/emmap1/.ssh/id_rsa.<br/>Your public key has been saved in /c/Users/emmap1/.ssh/id_rsa.pub.<br/>The key fingerprint is: e7:94:d1:a3:02:ee:38:6e:a4:5e:26:a3:a9:f4:95:d4 emmap1@EMMA-PC</code></p></li><li><p>List the contents of <code>.ssh</code> to view the key files.</p><p>You should see something like the following:<br/><code>$ <span style="color: rgb(255,0,0);">dir .ssh</span> <br/>id_rsa id_rsa.pub</code></p><p>The command displays two files, one for the public key (for example <code>id_rsa.pub</code>) and one for the private key (for example, <code>id_rsa</code>).</p></li></ol><h3 id="id-.sshKeySetUp-BitBucket-Step2.Addthekeytothessh-agent">Step 2. Add the key to the ssh-agent</h3><p><span>If you don't want to type your password each time you use the key, you'll need to add it to the ssh-agent.</span></p><ol><li><p>To start the agent, run the following:<br/><code>$ <span style="color: rgb(255,0,0);">eval $(ssh-agent)</span> <br/>Agent pid 9700 </code></p></li><li><p><span>Enter </span><code>ssh-add</code><span> followed by the path to the private key file:</span><br/><code>$ <span style="color: rgb(255,0,0);">ssh-add ~/.ssh/&lt;private_key_file&gt;</span></code></p></li></ol><h3 id="id-.sshKeySetUp-BitBucket-Step3.AddthepublickeytoyourBitbucketsettings">Step 3. Add the public key to your Bitbucket settings</h3><ol><li>From Bitbucket, choose <strong>Bitbucket settings</strong> from your avatar in the lower left.<br/>The <strong>Account settings</strong> page opens.</li><li>Click <strong>SSH keys</strong>.<br/>If you've already added keys, you'll see them on this page.</li><li><p>Open your <code>.ssh/id_rsa.pub</code> file and copy its contents.<br/><span>You may see an email address on the last line. It doesn't matter whether or not you include the email address.</span></p></li><li><p>From Bitbucket, click <strong>Add key</strong>.</p></li><li><p>Enter a <strong>Label</strong> for your new key, for example, <code>Default public key</code>.</p></li><li>Paste the copied public key into the SSH<strong> Key</strong> field.<br/><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image confluence-external-resource" width="820" src="https://confluence.atlassian.com/bitbucket/files/304578655/755335794/2/1502737357377/add_ssh_key.png" data-image-src="https://confluence.atlassian.com/bitbucket/files/304578655/755335794/2/1502737357377/add_ssh_key.png" loading="lazy"></span></li><li><p class="auto-cursor-target">Click <strong>Save</strong>.<br/>Bitbucket sends you an email to confirm the addition of the key.</p><p>Edit an SSH key</p><p>After you add a key, you can edit the key's <strong>Label</strong> but not the key itself. To change the key's contents, you need to delete and re-add the key.</p></li><li><p>Return to the command line and verify your configuration and username by entering the following command:<br/><code>$ <span style="color: rgb(255,0,0);">ssh -T <a class="external-link" href="mailto:git@bitbucket.org" rel="nofollow">git@bitbucket.org</a></span></code></p><p>The command message tells you which of your Bitbucket accounts can log in with that key.</p><pre class=" language-none"><code class=" language-none">conq: logged in as emmap1.
You can use git or hg to connect to Bitbucket. Shell access is disabled.</code></pre></li></ol><p><strong>For Mac/Linux</strong></p><h3 class="auto-cursor-target" id="id-.sshKeySetUp-BitBucket-Step1.Setupyourdefaultidentity">Step 1. Set up your default identity</h3><ol><li><p>From the terminal, enter <code>ssh-keygen</code> at the command line.<br/>The command prompts you for a file to save the key in:<br/><code>$ <span style="color: rgb(255,0,0);">ssh-keygen</span> <br/>Generating public/private rsa key pair.<br/>Enter file in which to save the key (/Users/emmap1/.ssh/id_rsa):</code></p></li><li><p class="auto-cursor-target">Press the Enter or Return key to accept the default location.</p><p>To create a key with a name or path other than the default, specify the full path to the key. For example, to create a key called <code>my-new-ssh-key</code>, enter a path like the one shown at the prompt:<br/><code>$ <span style="color: rgb(255,0,0);">ssh-keygen</span> <br/>Generating public/private rsa key pair.<br/>Enter file in which to save the key (/Users/emmap1/.ssh/id_rsa): <span style="color: rgb(255,0,0);">/Users/emmap1/.ssh/my-new-ssh-key </span></code></p></li><li><p>Enter and re-enter a passphrase when prompted.<br/>The command creates your default identity with its public and private keys. The whole interaction will look similar to the following:<br/><code>$ <span style="color: rgb(255,0,0);">ssh-keygen</span> <br/>Generating public/private rsa key pair.<br/>Enter file in which to save the key (/Users/emmap1/.ssh/id_rsa):<br/>Created directory '/Users/emmap1/.ssh'.<br/>Enter passphrase (empty for no passphrase):<br/>Enter same passphrase again:<br/>Your identification has been saved in /Users/emmap1/.ssh/id_rsa.<br/>Your public key has been saved in /Users/emmap1/.ssh/id_rsa.pub.<br/>The key fingerprint is:<br/>4c:80:61:2c:00:3f:9d:dc:08:41:2e:c0:cf:b9:17:69 <a class="external-link" href="mailto:emmap1@myhost.local" rel="nofollow">emmap1@myhost.local</a> <br/>The key's randomart image is:<br/>+--[ RSA 2048]----+<br/>|*o+ooo.          |<br/>|.+.=o+ .         |<br/>|. *.* o .        |<br/>| . = E o         |<br/>|    o . S        |<br/>|   . .           |<br/>|     .           |<br/>|                 |<br/>|                 |<br/>+-----------------+</code></p></li><li><p>List the contents of <code>~/.ssh</code> to view the key files.<br/><code>$ <span style="color: rgb(255,0,0);">ls ~/.ssh</span> <br/>id_rsa id_rsa.pub </code></p><p class="auto-cursor-target">The command displays two files, one for the public key (for example <code>id_rsa.pub</code>) and one for the private key (for example, <code>id_rsa</code>).</p></li></ol><h3 id="id-.sshKeySetUp-BitBucket-Step2.Addthekeytothessh-agent.1">Step 2. Add the key to the ssh-agent</h3><p><span>If you don't want to type your password each time you use the key, you'll need to add it to the ssh-agent.</span></p><ol><li><p>To start the agent, run the following:<br/><code>$ <span style="color: rgb(255,0,0);">eval `ssh-agent`</span> <br/>Agent pid 9700 </code></p></li><li><p><span>Enter </span><code>ssh-add</code><span> followed by the path to the private key file:</span></p><h4 class="panel-block-heading" id="id-.sshKeySetUp-BitBucket-macOS">macOS </h4><br/><code>$ <span style="color: rgb(255,0,0);">ssh-add -K ~/.ssh/&lt;private_key_file&gt;</span></code><h4 class="panel-block-heading" id="id-.sshKeySetUp-BitBucket-Linux">Linux </h4><br/><code>$ <span style="color: rgb(255,0,0);">ssh-add ~/.ssh/&lt;private_key_file&gt;</span></code></li><li><p>(macOS only) So that your computer remembers your password each time it restarts, open (or create) the <code>~/.ssh/config</code> file and add these lines to the file:</p><pre class=" language-none"><code class=" language-none">Host *
  UseKeychain yes</code></pre></li></ol><h3 id="id-.sshKeySetUp-BitBucket-Step3.(Mercurialonly)EnableSSHcompression">Step 3. (Mercurial only) Enable SSH compression</h3><p><br/></p><p>Enabling SSH compression is recommended but not required.</p><p>By default, Git automatically performs compression when sending or retrieving data, but Mercurial doesn't. Enabling SSH compression can speed up sending and retrieving data, drastically in some cases.</p><p><strong>To enable SSH compression:</strong></p><ol><li>Open the Mercurial global configuration file (<code>~/.hgrc</code>).</li><li><p>Add this line to the UI section:</p><pre class=" language-none"><code class=" language-none">ssh = ssh -C</code></pre><p>When you are done the file should look similar to this:</p><pre class=" language-none"><code class=" language-none">[ui]
# Name data to appear in commits
username = Emma &lt;emmap1@atlassian.com&gt;
ssh = ssh -C</code></pre></li><li>Save and close the file.</li></ol><p><br/></p><h3 id="id-.sshKeySetUp-BitBucket-Step4.AddthepublickeytoyourBitbucketsettings">Step 4. Add the public key to your Bitbucket settings</h3><ol><li>From Bitbucket, choose <strong>Bitbucket settings</strong> from your avatar in the lower left.<br/>The <strong>Account settings</strong> page opens.</li><li>Click <strong>SSH keys</strong>.<br/>If you've already added keys, you'll see them on this page.</li><li><p>In your terminal window, copy the contents of your public key file.</p><p class="auto-cursor-target">On Linux, you can <code>cat</code> the contents:<br/><code>$ <span style="color: rgb(255,0,0);">cat ~/.ssh/id_rsa.pub</span></code></p><p class="auto-cursor-target">On macOS, the following command copies the output to the clipboard:<br/><code>$ <span style="color: rgb(255,0,0);">pbcopy &lt; ~/.ssh/id_rsa.pub</span></code></p></li><li><p>Select and copy the key output in the clipboard.<br/>If you have problems with copy and paste, you can open the file directly with Notepad. Select the contents of the file (just avoid selecting the end-of-file characters).</p></li><li><p>From Bitbucket, click <strong>Add key</strong>.</p></li><li><p>Enter a <strong>Label</strong> for your new key, for example, <code>Default public key</code>.</p></li><li>Paste the copied public key into the SSH<strong> Key</strong> field.<br/><span>You may see an email address on the last line when you paste. It doesn't matter whether or not you include the email address in the <strong>Key</strong>.</span><br/><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image confluence-external-resource" width="820" src="https://confluence.atlassian.com/bitbucket/files/304578655/755335794/2/1502737357377/add_ssh_key.png" data-image-src="https://confluence.atlassian.com/bitbucket/files/304578655/755335794/2/1502737357377/add_ssh_key.png" loading="lazy"></span></li><li><p class="auto-cursor-target">Click <strong>Save</strong>.<br/>Bitbucket sends you an email to confirm the addition of the key.</p><p>Edit an SSH key</p><p>After you add a key, you can edit the key's <strong>Label</strong> but not the key itself. To change the key's contents, you need to delete and re-add the key.</p></li><li><p class="auto-cursor-target">Return to the terminal window and verify your configuration and username by entering the following command:<br/><code>$ <span style="color: rgb(255,0,0);">ssh -T <a class="external-link" href="mailto:git@bitbucket.org" rel="nofollow">git@bitbucket.org</a></span></code></p><p>The command message tells you which of your Bitbucket accounts can log in with that key.</p><pre class=" language-none"><code class=" language-none">conq: logged in as emmap1.
You can use git or hg to connect to Bitbucket. Shell access is disabled.</code></pre></li></ol><p><strong><br/></strong></p>
                    </div>

                    
                                                      
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on Oct 15, 2022 01:32</p>
                    <div id="footer-logo"><a href="http://www.atlassian.com/">Atlassian</a></div>
                </section>
            </div>
        </div>     </body>
</html>
