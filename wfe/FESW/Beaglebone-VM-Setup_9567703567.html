<!DOCTYPE html>
<html>
    <head>
        <title>Firmware : Beaglebone VM Setup</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">Firmware</a></span>
                            </li>
                                                    <li>
                                <span><a href="Firmware_9465365086.html">Firmware</a></span>
                            </li>
                                                    <li>
                                <span><a href="Getting-Started_9465365137.html">Getting Started</a></span>
                            </li>
                                                    <li>
                                <span><a href="Intro-to-Firmware_9465365151.html">Intro to Firmware</a></span>
                            </li>
                                                    <li>
                                <span><a href="Tool-Setup_9465365152.html">Tool Setup</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            Firmware : Beaglebone VM Setup
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
        
    
        
        
            Created by <span class='author'> Former user</span>, last modified on May 28, 2020
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <p>Author: Desmond Good</p><h2 id="BeagleboneVMSetup-BeagleboneVMSetup">Beaglebone VM Setup</h2><p>This guide is to set up a Debian 10.3 VM to simulate our application code for the Beaglebone operating system. This will work for <strong>Windows, Mac or Linux</strong>.</p><p>An important note is that this is running x86 Debian while the real Beaglebone is running an ARM-Based Debian, so keep in mind that this is <strong>not</strong> simulating the Beaglebone exactly. Many pre-built binaries that are available in the x86 Debian package manager will not be readily available in the ARM version. We are missing a lot of the underlying hardware typically available on the Beaglebone meaning we can't test features such as UART and I2C.</p><p>While we are missing many of the fundamental features of a real Beaglebone, we are able to test some of the higher level code that will run on the Beaglebone.</p><p>Here is a (non-exhaustive) list of things able to be tested: </p><ul style="list-style-type: square;"><li>CAN (through a virtual interface)</li><li>Data Queue</li><li>SQL Database</li><li>Driver Display (through X11 forwarding)</li><li>Post-Race Analysis Display (Also with X11 forwarding)</li></ul><p>Through the virtual CAN interface we can input test CAN messages and test the whole CAN message pipeline up to the display.</p><p><span style="font-size: 16.0px;font-weight: bold;letter-spacing: 0.0px;">Install Guide</span></p><ol><li style="list-style-type: decimal;">Download and install the latest version of Virtual Box <a class="external-link" href="https://www.virtualbox.org/wiki/Downloads" rel="nofollow">here</a>.</li><li style="list-style-type: decimal;">Download the virtual machine file <a class="external-link" href="https://uofwaterloo-my.sharepoint.com/:u:/g/personal/djgood_uwaterloo_ca/Ea2o9sDjKTVFsKvGovxCjfUBqrSfrkVVcyv6fmF5uSNcOA?e=P2QYhc" rel="nofollow">here</a> and unzip it.</li><li style="list-style-type: decimal;"><span>In the Virtual Box Manager:</span><ol><li style="list-style-type: decimal;"><span>Go to Machine → Add and select the .vdi file that you unzipped.</span></li><li style="list-style-type: decimal;"><span>Set up a host network to allow a direct connection to the Beaglebone VM. </span><ol><li style="list-style-type: decimal;"><span>File → Host Network Manager</span></li><li style="list-style-type: decimal;"><span>Click the &quot;+ Create&quot; button in the top bar.</span></li><li style="list-style-type: decimal;">Click <strong>done</strong> (The default settings are fine. You could change the network IP if you want but this will affect future steps so make sure you know what you are doing.)</li></ol></li><li style="list-style-type: decimal;">Set the VM to use it by opening the settings for the Beaglebone VM by selecting the &quot;Beaglebone&quot; entry and selecting the &quot;Settings&quot; gear in the top bar of the Manager window.<ol><li style="list-style-type: decimal;">Go to Network → Adapter 1<ol><li style="list-style-type: decimal;">Ensure &quot;Attached to:&quot; it is set to <strong>NAT</strong>.</li></ol></li><li style="list-style-type: decimal;">Now go to Network → Adapter 2<ol><li style="list-style-type: decimal;">Check &quot;Enable Network Adapter&quot;.</li><li style="list-style-type: decimal;">Set &quot;Attached to:&quot; to Host-only Adapter and select the name of Host Network you created previously (this should be something like <strong>vboxnet0</strong>).</li></ol></li><li style="list-style-type: decimal;">Click &quot;OK&quot; to save your settings.</li></ol></li><li style="list-style-type: decimal;"><span>With the networking set up, we can now launch the Beaglebone virtual machine.</span><ol><li style="list-style-type: decimal;">Select the &quot;Beaglebone&quot; entry and select &quot;Start&quot;.</li></ol></li></ol></li><li><span>When first setting up the VM for yourself please </span><a class="external-link" href="https://wiki.uwaterloo.ca/display/FESW/.ssh+Key+Set+Up+-+BitBucket" rel="nofollow"><span style="color: rgb(17,85,204);">create a new SSH key</span></a><span> and link with your Bitbucket account.</span></li><li style="list-style-type: decimal;"><span>In the VM: </span><ol><li style="list-style-type: decimal;"><span>Login: the user is &quot;root&quot; and password is &quot;firmware&quot;</span><br/><ol><li style="list-style-type: decimal;"><span>Clone the Beaglebone repo. `git clone <a class="external-link" href="mailto:git@bitbucket.org" rel="nofollow">git@bitbucket.org</a>:waterloohybrid/2019_beaglebone.git`</span></li><li style="list-style-type: decimal;"><span><strong>(Skip this for now)</strong> Run the VM install script `source ./setup.sh`. This script:</span><ol><li style="list-style-type: decimal;"><span>Sets a static IP of 192.168.56.101.</span></li><li style="list-style-type: decimal;"><span>Ensures the VM ssh settings are correct (Allow root over ssh, X11 forwarding are enabled)</span></li><li style="list-style-type: decimal;"><span>Installs the required Python dependencies for the Beaglebone code.</span></li></ol></li></ol></li></ol></li><li style="list-style-type: decimal;">At this point you should now have the beaglebone VM set up! At this point you can now log into the the Beaglebone over SSH at the IP 192.168.56.101.</li></ol><p><br/></p><p><br/></p>
                    </div>

                    
                                                      
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on Oct 15, 2022 01:32</p>
                    <div id="footer-logo"><a href="http://www.atlassian.com/">Atlassian</a></div>
                </section>
            </div>
        </div>     </body>
</html>
