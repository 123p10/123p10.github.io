<!DOCTYPE html>
<html>
    <head>
        <title>Firmware : Timers</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">Firmware</a></span>
                            </li>
                                                    <li>
                                <span><a href="Firmware_9465365086.html">Firmware</a></span>
                            </li>
                                                    <li>
                                <span><a href="Firmware-Projects_9571009451.html">Firmware Projects</a></span>
                            </li>
                                                    <li>
                                <span><a href="9465365100.html">Firmware Projects Archive (2017-2020)</a></span>
                            </li>
                                                    <li>
                                <span><a href="Firmware-Sensor-Projects_9437059755.html">Firmware Sensor Projects</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            Firmware : Timers
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
        
    
        
        
            Created by <span class='author'> Former user</span>, last modified by <span class='editor'> Former user</span> on Oct 27, 2017
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <div class="contentLayout2">
<div class="columnLayout two-left-sidebar" data-layout="two-left-sidebar">
<div class="cell aside" data-type="aside">
<div class="innerCell">
<h2 id="Timers-ProjectProperties">Project Properties</h2><div class='plugin-tabmeta-details'><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th colspan="1" class="confluenceTh">Project ID</th><td colspan="1" class="confluenceTd">FW-08</td></tr><tr><th class="confluenceTh">Status</th><td class="confluenceTd"><img class="wysiwyg-unknown-macro" src="plugins/servlet/confluence/placeholder/unknown-macro"/></td></tr><tr><th colspan="1" class="confluenceTh">Upcoming Deadline</th><td colspan="1" class="confluenceTd"><time datetime="2017-09-01" class="date-past">01 Sep 2017</time> </td></tr><tr><th colspan="1" class="confluenceTh">Project Deadline</th><td colspan="1" class="confluenceTd"><time datetime="2017-10-27" class="date-past">27 Oct 2017</time> </td></tr><tr><th class="confluenceTh">Manager</th><td class="confluenceTd"> </td></tr><tr><th class="confluenceTh">Project Lead</th><td class="confluenceTd"><a class="confluence-userlink user-mention" data-username="6155f811c669a600692a1794" data-account-id="6155f811c669a600692a1794" href="https://uwaterloo.atlassian.net/wiki/people/6155f811c669a600692a1794?ref=confluence" target="_blank" data-base-url="https://uwaterloo.atlassian.net/wiki">Former user (Deleted)</a></td></tr><tr><th colspan="1" class="confluenceTh">Support</th><td colspan="1" class="confluenceTd"><p> </p></td></tr></tbody></table></div></div></div>
</div>
<div class="cell normal" data-type="normal">
<div class="innerCell">
<h2 id="Timers-ProjectDeliverablesandTimeline">Project Deliverables and Timeline</h2><p><button class='aui-button create-from-template-button'data-space-key='FESW' href='https://uwaterloo.atlassian.net/wiki?templateId=917549&amp;spaceKey=FESW&amp;newSpaceKey=FESW'data-template-id='917549'disabled='true' >New Deliverable</button></p><p><div class="table-wrap"><table class="aui metadata-summary-macro FW08" data-cql="label = &quot;FW08&quot; and space = currentSpace ( )" data-headings="Deadline,Responsible,Status,Priority,Type" data-first-column-heading="Title" data-count-comments="false" data-count-likes="false"data-total-pages="1" data-page-size="1000" data-sort-by="Deadline" data-reverse-sort="false" data-blueprint-present="false" data-current-space-key="FESW" data-current-content-id="9437059805"><thead><tr><th>Title</th><th>Deadline</th><th>Responsible</th><th>Status</th><th>Priority</th><th>Type</th></tr></thead><tbody><tr><td class="title" data-content-id="9437059805"><a href="/wiki/spaces/FESW/pages/9437059805/Timers">Timers</a></td><td>&nbsp;</td><td>&nbsp;</td><td><img class="wysiwyg-unknown-macro" src="plugins/servlet/confluence/placeholder/unknown-macro"/></td><td>&nbsp;</td><td>&nbsp;</td></tr></tbody></table></div></p><p><em><br/></em></p></div>
</div>
</div>
<div class="columnLayout single" data-layout="single">
<div class="cell normal" data-type="normal">
<div class="innerCell">
<h2 id="Timers-ProjectDescription">Project Description</h2><ul><li>To code a Independent Watchdog timer that interrupts the system in order to stop bugs, which cause system failure or hang-up</li><li>To code a Window Watchdog time that detects whether the a program is executing earlier or later than a specific predefined window time</li><li>To design a schematic for the pins used on the circuit board (STM32 Nucleo64 F072RB)</li><li>To code a timer for a timer-interrupted embedded system</li></ul></div>
</div>
</div>
<div class="columnLayout two-equal" data-layout="two-equal">
<div class="cell normal" data-type="normal">
<div class="innerCell">
<h2 id="Timers-SupportingInformation,ProjectDetails">Supporting Information, Project Details</h2><p>Independent Watchdog:</p><ul style="list-style-type: square;"><li>In the IWDG, a counter is monitored and reloaded periodically</li><li>It has a dedicated separate clock, which comes from the Low Speed Internal (LSI) clock</li></ul><p>Configuring IWDG</p><ol><li>Load IWDG_KR register with 0x555</li><li>Edit values for IWDG_PR and IWDG_RLR registers</li><li>Enable write protection by issuing reload command</li><li>Start the IWDG by loading IWDG_PR with OxCCCC</li></ol><p>Window Watchdog:</p><ul style="list-style-type: square;"><li>The WWDG is reloaded or refresed within the predefined time window, reloading it earlier or later than what was defined as time frame will result in reset</li><li>Thus it is helpful in software debugging </li><li>The clock input comes from APB1 bus</li></ul><p>Configuring the WWDG</p><ol><li>Set the 11th bit (WWDGEN bit) of the RCC_APB1ENR register to enable the clock</li><li>Configure the WWDG_CR and WWDG_CFG registers along with clearing interrupt flag</li><li>Configure the NVIC to use the WWDG early interrupt (EWI) (runs in background)</li><li>Clear WWDG_SR register's EWIF bit and reload the counter</li></ol><p> </p><p>Relevant Links:</p><ul><li><a class="external-link" href="http://www.simplyembedded.org/tutorials/timers/" rel="nofollow">http://www.simplyembedded.org/tutorials/timers/</a></li><li><a class="external-link" href="http://embedded-lab.com/blog/stm32-internals/" rel="nofollow">http://embedded-lab.com/blog/stm32-internals/</a></li><li><a class="external-link" href="https://en.wikipedia.org/wiki/Watchdog_timer" rel="nofollow">https://en.wikipedia.org/wiki/Watchdog_timer</a></li><li><a class="external-link" href="https://en.wikipedia.org/wiki/Embedded_system" rel="nofollow">https://en.wikipedia.org/wiki/Embedded_system</a></li></ul></div>
</div>
<div class="cell normal" data-type="normal">
<div class="innerCell">
<h2 id="Timers-RequirementsandConsiderations">Requirements and Considerations</h2><p>Cost: None (The timer is an internal function)</p><p>Constraints</p><ul style="list-style-type: square;"><li>The final circuit requires the use of multiple inputs, such as motors, potentiometers, and GPS units, however, when testing the timer, an LED light will be used to check if the timer program is executing and working.</li><li>The program will later need to be adjusted to reset the specific components depending on their location (input pin) on the circuit board.</li><li>The scope of the timer program involves debugging and system reset in order to limit the number of bugs that occur. Possible bugs could include, but is not limited to, overflow issues, improper implementation, and failed execution.</li></ul><p> </p><p>Relevant Rules</p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh">Rule Number</th><th class="confluenceTh">Rule Description</th></tr><tr><td class="confluenceTd"> </td><td class="confluenceTd"> </td></tr></tbody></table></div></div>
</div>
</div>
<div class="columnLayout single" data-layout="single">
<div class="cell normal" data-type="normal">
<div class="innerCell">
<hr/><p> </p></div>
</div>
</div>
<div class="columnLayout single" data-layout="single">
<div class="cell normal" data-type="normal">
<div class="innerCell">
<h2 id="Timers-ProgressOutlineandDocumentation">Progress Outline and Documentation</h2><ul><li>This section should be completed as the project progresses.</li><li>Provide a concise report of the results and accomplishments throughout the project.</li><li>Show how the requirements were met and how they were met.</li><li>Outline findings and provide backing to decisions.</li></ul><p>Status Update (October 27 5:05 pm)</p><ul style="list-style-type: square;"><li>The research is completed</li><li>The pins to be used in coding have been identified on the diagram of the circuit board using STM32 CubeMX</li><li>The coding for the watchdog timer is on its way to completion; The code needs to be tested and changes must be made</li><li>Research has also been conducted on an interrupt based system and the potential use of a timer to periodically interrupt and trigger tasks</li></ul><p>Results and Accomplishments</p><ul style="list-style-type: square;"><li>An enriched learning of circuit boards was gained</li><li>A good understanding of the connection between programming and implementation on the circuit board has been achieved</li><li>The purpose and necessity of a timer in embedded systems has been identified</li></ul><p> </p><p> </p></div>
</div>
</div>
</div>
                    </div>

                    
                                                      
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on Oct 15, 2022 01:32</p>
                    <div id="footer-logo"><a href="http://www.atlassian.com/">Atlassian</a></div>
                </section>
            </div>
        </div>     </body>
</html>
